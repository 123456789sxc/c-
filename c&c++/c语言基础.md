# c语言的运算符

## 1.算术运算符

| 运算符 | 描述                       |
| ------ | -------------------------- |
| +      |                            |
| -      |                            |
| *      |                            |
| /      |                            |
| %      | A%B表示 A/B得到的余数      |
| ++     | A++，++在后表示，后+先赋值 |
| --     |                            |

## 2.关系运算符

| 运算符 | 描述 |
| ------ | ---- |
| ==     |      |
| !=     |      |
| >      |      |
| >=     |      |
| <      |      |
| <=     |      |

## 3.逻辑运算符（用于逻辑真假判断）

| 运算符 | 描述                                     |
| ------ | ---------------------------------------- |
| &&     | 逻辑与运算符，两个操作数都为真，都真才真 |
| \|\|   | 逻辑或运算符，有真则真                   |
| !      | 逻辑非运算符，逆转逻辑数的逻辑状态       |

## 4.位运算符（用于二进制的计算）

| 运算符 | 描述                                                         |
| ------ | ------------------------------------------------------------ |
| &      | 按位与，全1才1                                               |
| \|     | 按位或，有1则1                                               |
| ^      | 按位异或，相同为0，相异为1                                   |
| ~      | 取反                                                         |
| <<     | 二进制左移，将一个运算对象的各二进制位全部左移若干位（左边的二进制位丢弃，右边补0）。 |
| >>     | 二进制右移，将一个数的各二进制位全部右移若干位，正数左补0，负数左补1，右边丢弃。 |
| ^=     |                                                              |

### 按位取反

1.**按位取反是根据数的 补码 进行按位取反**（计算机底层这样要求的），

正数的原码、反码和补码都是一样（规律，三码归一）；

负数的反码是符号位不变，其它位取反，然后加1变成补码。
2.得到新的补码后，新的补码进行 按位取反——>得到另一个补码，根据另一个补码算其原码，再算十进制。根据原码就可以计算出数值。

- 负数的按位取反：-9
  - 原码：11001
  - 反码：10110    (符号位不变，其余位取反)
  - 补码：10111 （负数的补码=反码+1）
  - 求出负数的补码后，按位取反，得到正数的补码。10111—->01000  
  - 正数的补码就是原码01000。所以-9按位取反得8
- 正数的按位取反：+9
  - 原码：01001
  - 反码：01001
  - 补码：01001          ---->正数的三码归一
  - 补码按位取反得到负数的补码10110
  - 负数的补码变原码，先减1得到反码10101，然后，符号位不变，其余取反得原码11010
  - 根据原码转换成十进制--->-10



# 数组静态定义和动态定义

## 静态定义

int a[10];

int a[] = {1,2,3};

```
int a[2][2];
```

```
int a[3][4] = {{1, 2, 3, 4}, {5, 6, 7, 8}, {9, 10, 11, 12}};
```



## 动态定义

在c语言中,

```c
#include<stdlib.h>
int *a = (int*) malloc(n*sizeof(int));
```

在c++中，进行了扩展

```
#include<iostream>
using namespace std;
int *a = new int[n];
```

## malloc

#include <stdlib.h>

malloc() 函数用来动态地分配内存空间，其原型为：
void* malloc (size);

size 为需要分配的内存空间的大小，以字节（Byte）计。

  【函数说明】malloc() 在堆区分配一块指定大小的内存空间，用来存放数据。这块内存空间在函数执行完成后不会被初始化，它们的值是未知的。如果希望在分配内存的同时进行初始化，请使用 calloc()函数。

【返回值】分配成功返回指向该内存的地址，失败则返回 NULL。

由于申请内存空间时可能有也可能没有，所以需要自行判断是否申请成功，再进行后续操作。  

注意：函数的返回值类型是 void *，void 并不是说没有返回值或者返回空指针，而是返回的指针类型未知。所以在使用 malloc() 时通常需要进行强制类型转换

注意：malloc跟new都能开辟结构体空间

## free

free() 函数用来释放动态分配的内存空间，其原型为：
    void free (void* ptr);

free() 可以释放由 malloc()、calloc()、realloc()分配的内存空间，以便其他程序再次使用。

## new

new其实就是告诉计算机开辟一段新的空间，但是和一般的声明不同的是，new开辟的空间在堆上，而一般声明的变量存放在栈上。通常来说，当在局部函数中new出一段新的空间，该段空间在局部函数调用结束后仍然能够使用，可以用来向主函数传递参数。另外需要注意的是，new的使用格式，new出来的是一段空间的首地址。所以一般需要用指针来存放这段地址。

```
//new 常用
结构体指针类型 *结构体指针名 = new 结构体名;        //用指针创建结构体
int *p = new int[10];         //创建数组
```



# 开方运算

```
#include <math.h>
sqrt(参数)                  //参数是9的话，返回值是3
```

# 字符数组

## 长度

```c
//在c语言中
#include <string.h>        //不能少
int main(){
    char *p = "abc";        //注意这种形式在vs2017版本属于语法错误，详见错误.md
    cout << strlen(p);                          // strlen返回字符数组的长度3
    char *s = "abc";
    cout << strlen(p);                         //一样的
    char *s = "ab\0c";
    cout << strlen(p);                        //以'\0'为结束符，长度为2
}
```

```c++
//在c++中
int main(){
    char *p = "abc";
    cout<< p.length();
}
```

c语言的字符数组和string类数组的区别

```c++
//定义方式不同
char a[] = "abc";
char *a = "abc";


string b = "abc";
string b("abc");

//访问数组的方式 
//              a[i] 或者  *(a+i)
//        b[i]  不能 *(b+i)
```



# 二维数组(细节)

## 二维数组的存储结构

**认识到列数的重要性**

C语言里面对二维数组的存储是按照一维数组来处理的，二维数组按照行展开的方式按顺序存储.例如

```
int a[2][3] = {
        {1,2,3},
        {4,5,6}
    };
    
int b[6] = {
        {1,2,3,4,5,6}
    };

//他们的空间存储分配一样的，所以在利用二维数组作为参数传递时，必须指定二维数组的列数
```

## 传递二维数组的三种方法

- 方法1：在参数声明中指定二维数组的列数

```cpp
void foo(int a[][3])   //举例
```

- 方法2：把参数声明为一个指向数组的指针

```cpp
void foo(int (*a)[3])
```

- 方法3：把参数声明为指向指针的指针

```cpp
void foo(int **a,int colnum)
```

